
<div ng-controller="ProfileCtrl" class='profile-info'>

<div>

	<% if current_user.sign_in_count == 1 %>
		<h1>Please fill in your profile details</h1>
	<% end %>



		
		<%= form_for @user, html: {multipart: true} do |f| %>

			<%= f.label :avatar %>
			<%= f.file_field :avatar %>
			<%= f.submit %>

		<% end %>

		<div ng-file-drop="onFileSelect($files)" ng-file-drag-over-class="optional-css-class-name-or-function">drop picture here</div>



	<%= render "information" %>

		<% if current_user.avatar.present? %>
	 		<img class="profile-pic" ng-src="{{user.userImage}}" style="height: 100px; width: auto">
		<% end %>


	<button>Work</button>

	<%= button_tag 'Upload Art', 'ng-model' => 'radioModel', 'btn-radio' => "'Art'" %>
	<%= button_tag 'Upload Text', 'ng-model' => 'radioModel', 'btn-radio' => "'Text'" %>

		<div class="text-inputs">


	  <a class="name" ng-show="editable" href="#" name="profile[name]" editable-text="user.name" onaftersave="updateProfile('name', $data)"><h1 class="name">{{user.name || "Name" }}</h1></a>
		<h1 class="name" ng-hide="editable">{{user.name || "Name" }}</h1>  



	<%= form_for [@user, @work], html: {multipart: true, 'ng-model' => 'radioModel', 'ng-show' => "radioModel === 'Art' || radioModel === 'Text' "} do |f| %>

		<%= f.label :image %>
		<%= f.file_field :image %>

		<%= f.label :title %>
		<%= f.text_field :title %>

		<%= f.label :medium_names, 'Media', 'ng-hide' => "radioModel === 'Text'" %>
		<%= f.text_field :medium_names, value: '', 'ng-hide' => "radioModel === 'Text'" %>

		<%= f.label :genre_names, 'Genres' %>
		<%= f.text_field :genre_names, value: '' %>

		<%= f.label :caption %>
		<%= f.text_field :caption %>


		<%= f.submit "onclick" => "event.preventDefault();", 'ng-model' => 'radioModel', 'btn-radio' => "''" %>


	<% end %>



	<br />

	<button ng-click="addText()"><b>Add Text</b></button>



  <div class="container">
    <div class="row">
      <div class="col-md-12">

				<div class="col-md-3 box-container" style="background: #eee; border: 1px solid" ng-repeat="writing in writings">

				
					<button class="pull-right" ng-click="removeText(writing.id)">X</button><br />
					<p><input placeholder="Add a title..." ng-model="writing.title" value="{{writing.title}}" ng-change="saveText(writing.id)" /></p>
					<p><img class="profile-pic" ng-src="http://placekitten.com/100/100" style="height: 100px; width: auto" ng-click="openEditor('lg',writing.id)"></p>
					<p><input placeholder="Add a short caption..." ng-model="writing.caption" value="{{writing.caption}}" ng-change="saveText(writing.id)" /></p>
					<p><input placeholder="Add some genres..." ng-model="writing.genres" value="{{writing.genres}}" ng-change="saveText(writing.id)" /></p>

					<div ng-model="writing.body" style="width: 100%; height: 200px;" ng-change="saveText(writing.id)" medium-editor></div>

					

				</div>	

			</div>		
		</div>
	</div>


	<br />

	<br />
	


	<button ng-click="addImage()"><b>Add Image</b></button>



  <div class="container">
    <div class="row">
      <div class="col-md-12">

				<div class="col-md-3 box-container" style="background: #eee; border: 1px solid" ng-repeat="image in images">
					<button class="pull-right" ng-click="removeImage(image.id)">X</button><br />
					<p><input placeholder="Add a title..." ng-model="image.title" value="{{image.title}}" ng-change="saveImage(image.id)" /></p>
					<p><img class="profile-pic" ng-src="http://placekitten.com/500/500" style="height: 100px; width: auto" ng-click="openCollection('lg',image.id)"></p>
					<p><input placeholder="Add a short caption..." ng-model="image.caption" value="{{image.caption}}" ng-change="saveImage(writing.id)" /></p>
					<p><input placeholder="Medium..." ng-model="image.medium" value="{{image.medium}}" ng-change="saveImage(image.id)" /></p>
					<p><input placeholder="Add some genres..." ng-model="image.genres" value="{{image.genres}}" ng-change="saveImage(image.id)" /></p>
					

				</div>	

			</div>		
		</div>
	</div>



	</div>






		</div>

	</div>

<img src="" alt="">
	<script type="text/ng-template" id="myTextModal.html">
    <div class="modal-container">
      <div class="modal-header">
        <h3 class="modal-title">{{collections.title}}</h3>
      </div>
      <div class="modal-body">
        <div style="width: 70%; height: 200px;" ng-model="collections.body" medium-editor></div>
      </div>
      <p>{{collections}}</p>
    </div>  
  </script> 

  <script type="text/ng-template" id="myImageModal.html">
    <div class="modal-container">
      <div class="modal-header">
        <h3 class="modal-title">Lots of kittens!!</h3>
      </div>
      <div class="modal-body">
       <img src="http://placekitten.com/500/500" alt="">
    </div>  
  </script> 

</div>